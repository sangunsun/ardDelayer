# ardDelayer
a async delayer for arduino, 一个arduino下使用的非阻塞式异步延时器



### 需解决的问题
1. 延迟某段时间才执行某段代码，但是又不阻塞整个代码的执行。
2. 解决某些代码执行的先后顺序问题(解决多个延时器按顺序延迟执行多段代码问题)
3. 解决多个延时器按顺序**循环**延迟执行多段代码问题
4. 尽量保留原阻塞式延时器的使用习惯。


### 设计
#### 需求1很好解决，不做讨论
#### 需求2,3的设计 
1. Delayer加入一个nextDelayer字段，标示自己执行完成后，可以启用的下一个Delayer。
2. 在Delayer的构造函数中允许初始化延时时间
3. Delayer的void isDelayed(回调函数);执行业务代码
4. 重载Delayer的isDelayed为bool isDelayed();
5. 延时器加入一个状态字AllowStart，用于标示是否可以启用该延时器，这个标志位不对外公开，让Delayer类自己用于控制，一般是上一个延时器执行完成后开下一个延时器的AllowStart
6. 默认情况下AllowStart是开启的，所以要在前延时器的setNextDelayer函数里判断后延时器是否正在运行，若否置后延时器的AllowStart为false，普通不需要串联的定义器可以直接使用。对于循环延时，所有的延时器都被关了，需要提供一个函数开其中一个延时器，以免所有延时器都被关闭。


#### 还有没有更简单的用法？
+ 可以有如：Delayer.delay(300){}的用法吗？
+ 没有！！！异步编程和普通编程本来就不一样。

